<!-- navbar -->
<nav class="navbar navbar-expand-lg navbar-light bg-light pb-3 pt-3 " id="mainNav">
    <div class="container">
      <div class="d-flex justify-content-center align-content-center">
        <h4 class="payicon ms-5 mt-1 bg-primary pt-1 pb-1 ps-4 pe-4 text-white">Taskify</h4>
        <!-- <h4 class="  navtextpay">Taskify</h4>  -->
      </div>       
       <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
            Menu
            <i class="fas fa-bars ms-1"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
            <ul class="navbar-nav text-uppercase ms-auto me-5 py-4 py-lg-0 ">
                <li class="nav-item"><a routerLink="/dashboard"  class="nav-link text-dark   fw-bold" >Home</a></li>
                <li class="nav-item"><a  class="nav-link text-dark   fw-bold" data-bs-toggle="offcanvas" href="#section1" >Tasks</a></li>
                <li class="nav-item"><a  class="nav-link text-dark   fw-bold" >Projects</a></li>
                <li class="nav-item dropdown">
                  <a class="nav-link dropdown-toggle text-dark fw-bold" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More Options
                  </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                  <a  class="dropdown-item "  data-toggle="modal" data-target="#exampleModal">SignOut</a>
      
                </div>
                </li>
            </ul>
           
        </div>
    </div>
</nav>



<!-- Header-->
<header class="hero-bg   py-5">
    <div class="container row px-4 px-lg-5 my-3">
        <div class="text-center magicpattern  text-white col-lg-6 mb-4">
          <h1 class="display-5 text-primary fw-bolder  mb-4"><span class="text-dark">Hello</span>  {{currentUserDetails.username}} </h1>
            <h1 class="display-5 text-dark fw-bolder  mb-4">Welcome to </h1>
            <!-- <h1 class="display-2 mb-5 fw-bolder cartifytext">  Cartify</h1> -->
            <div class="waviy pt-4">
                <span class="headerC ms-5 mt-1 "  style="--i:1">T</span>
                <span class="ms-3" style="--i:2">a</span>
                <span class="ms-3" style="--i:3">s</span>
                <span class="ms-3" style="--i:4">k</span>
                <span class="ms-3" style="--i:5">i</span>
                <span class="ms-3" style="--i:6">f</span>
                <span class="ms-3" style="--i:7">y</span>
               </div>
               <div class="pt-5">
                <h3 class=" fw-bold text-dark pt-4 mb-3 display-6">Simplify Your Projects <br> Manage Tasks with Ease! </h3>
               </div>
        </div>
        <div class="col-lg-6 p-0 ">
            
                <img class="header-bg " src="https://img.freepik.com/premium-vector/scrum-board-concept-illustration_86047-382.jpg?w=826" alt="">
            
        </div>
    </div>
  </header>


  <!-- Tasks Section -->
  <section id="section1">
    <div class="container-fluid mt-5 ">
        <div class="row devpanel ">
          <h1 class="text-center  fw-bolder  mt-5 mb-5">Manage Your Tasks</h1>
          <div class="col-md-12 d-flex justify-content-center">
            <button (click)="toggleTaskDiv()" class="btn btn-primary task-button pt-2 ps-3 pe-3 mb-5" style="--fa-animation-duration: 2s;" >Create Task <i class="fa fa-add ps-2"></i> </button>
        </div>
        <div class="row mt-3" *ngIf="taskDiv">
            <div class="col-md-3 col-sm-0"></div>
            <div class="col-md-6 col-sm-12 ps-4">
                <form class="form-property shadow border border-2 rounded p-5 bg-light">
                    <input [(ngModel)]="taskname" name="taskname" type="text" placeholder="Enter Task Name" class="form-control">
                    <input [(ngModel)]="taskdesc" name="taskdesc" type="text"  placeholder="Enter Task Desc" class="form-control mt-2 ">
                    <input [(ngModel)]="proname" name="proname" type="text" placeholder="Enter Project Name" class="form-control mt-2 mb-3">

                    <span class="mt-2">Enter Project ID</span>
                    <input [(ngModel)]="proid" name="proid"  type="text" placeholder="Enter Project ID" class="form-control">
                    <!-- number of days  -->
                    <div class="form-group">
                        <label for="numberOfDays">No. of Days to Complete:</label>
                        <input type="number"  name="days" class="form-control" id="numberOfDays" [(ngModel)]="days">
                      </div>
                      <div class="form-group">
                        <label for="numberOfHours">Number of Hours:</label>
                        <input type="number" name="hours" class="form-control" id="numberOfHours" [(ngModel)]="hours">
                      </div>
                      <div class="form-group">
                        <label for="numberOfMinutes">Number of Minutes:</label>
                        <input type="number"  name="minutes" class="form-control" id="numberOfMinutes" [(ngModel)]="minutes">
                      </div>

                    <!-- <div class="">
                        <span>Staus : </span>
                        <label class=" mt-3 mb-2">
                            <input type="radio" name="taskStatus" [(ngModel)]="taskData.status" value="completed"> Completed
                          </label>
                          <label class="ms-3">
                            <input type="radio" name="taskStatus" [(ngModel)]="taskData.status" value="pending"> Pending
                          </label>
                    </div> -->
                    
                    <!-- <select [(ngModel)]="contact.groupId" name="groupId" class="form-control mt-2" >
                        <option value=""selected hidden disabled>Select <i class="fa-light fa-arrow-down-short-wide"></i></option>
                        <option value="{{group.id}}" *ngFor="let group of allGroups">{{group.name}}</option>   
                        
                    </select> -->

                    <input  type="button" (click)="addTaskToBackend()" value="Create" class="btn btn-primary mt-2">
                    <button (click)="toggleTaskDiv()" class="btn btn-danger mt-2 ms-2" style="float: right;">Close</button>
                </form>         
               </div>
            <div class="col-md-3 col-sm-0"></div>
          </div>

          <div class="row mt-1 mb-4">
            <div class="col-4"></div>
            <div class="col-4 ps-4">
              <h4 class="text-center text-dark fw-bold ">Search Task</h4>
              <input (keyup)="search($event)"  type="text" class="form-control" placeholder="Enter Task Name">
            </div>
            <div class="col-4"></div>
          </div>

          <div class="row text-center mt-2" *ngFor="let project of currentTasks ">
            <!-- <h3>{{ project.proname }}</h3> -->
            
            <div class="col-md-12 d-flex justify-content-center" *ngFor="let task of project.tasks | filter:searchTerm:'taskname';">

            <div class="card w-75 mb-3 pb-2">
                <div class="card-body ">
                  <h4 class="card-title fw-bolder">{{ task.taskname }}</h4>
                  <h5 class="card-text">{{task.taskdesc}}</h5>
                  <div class="ps-md-4 pe-md-4">
                    <a href="#!" class="statusbar btn btn-secondary m-1 d-block"><span class="me-1 fw-bolder ">Status :</span> <span class="text-info">{{task.status}}</span> </a>
                    <a  (click)="toggleMoreDetails()"  class=" mt-1 mb-2">More Details</a>
                    <div  *ngIf="moreDiv">
                        
                        <h5 class="card-text">Number of Days: <span class="text-info">{{task.days}}</span></h5>
                        <h5 class="card-text">Number of Hours: <span class="text-info">{{task.hours}}</span></h5>
                    </div>
                  </div>
                </div>
              </div>
              </div>

          </div>
        </div>
    </div> 
</section>



  <!-- Projects Section -->
  <section id="section2">
    <div class="container-fluid mt-5 ">
        <div class="row propanel ">
          <h1 class="text-center  fw-bolder  mt-5 mb-5">Manage Your Projects</h1>
          <div class="col-md-12 d-flex justify-content-center">
            <button (click)="toggleProjectDiv()" class="btn btn-dark border-dark pro-button pt-2 ps-3 pe-3 mb-5" style="--fa-animation-duration: 2s;" >Create a Project <i class="fa fa-add ps-2"></i> </button>
        </div>
        <div class="row mt-3" *ngIf="projectDiv">
            <div class="col-md-3 col-sm-0"></div>
            <div class="col-md-6 col-sm-12 ps-4">
                <form class="form-property shadow border border-2 rounded p-5 bg-light">
                    <input [(ngModel)]="proname" name="proname" type="text" placeholder="Enter Project Name" class="form-control mt-2 mb-3">

                    <span class="mt-2">Enter Project ID</span>
                    <input [(ngModel)]="proid" name="proid"  type="text" placeholder="Enter Project ID" class="form-control">


                    <input  type="button" (click)="addProject()" value="Create" class="btn btn-primary mt-2">
                    <button (click)="toggleProjectDiv()" class="btn btn-danger mt-2 ms-2" style="float: right;">Close</button>
                </form>         
               </div>
            <div class="col-md-3 col-sm-0"></div>
          </div>


          <div class="row text-center mt-2" >
            <div class="col-md-4 ps-4 d-flex justify-content-center" *ngFor="let project of currentTasks ">
                
            <div class="card w-75 mb-3 pb-2">

            <h4 class="card-title fw-bolder mt-2">{{ project.proname }}</h4>
            <a  (click)="toggleMoreProDetails()"  class=" mt-1 mb-2">More Details</a>                        

            <div  *ngIf="moreProjectDiv">
                <div class="card-body "*ngFor="let task of project.tasks | filter:searchTerm:'taskname';">

                  <h4 class="card-title fw-bolder">{{ task.taskname }}</h4>
                  <h5 class="card-text">{{task.taskdesc}}</h5>
                  <div class="ps-md-4 pe-md-4">
                    <a href="#!" class="statusbar btn btn-dark m-1 d-block"><span class="me-1 fw-bolder ">Status :</span> <span class="text-info">{{task.status}}</span> </a>

                  </div>
              </div>
            </div>
              </div>
            </div>
          </div>
        </div>
    </div> 
</section>



  <!-- logout Modal -->
  <div class="modal " id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title text-dark fw-bold" id="exampleModalLabel">Logout</h4>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
         <h4>Are you sure you want to Logout ?</h4> 
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
          <button (click)="logout()"  type="button" class="btn btn-primary">Yes</button>
        </div>
      </div>
    </div>
  </div>


  <!-- footer -->
  <footer class="text-center text-white mt-5" style="background-color: #f1f1f1;">
    <!-- Grid container -->
    <div class="container-fluid pt-3">
      <!-- Section: Social media -->
      <section class="mb-4">
        <!-- Facebook -->
        <a
          class="btn btn-link btn-floating btn-lg text-dark m-1"
          href="#!"
          role="button"
          data-mdb-ripple-color="dark"
          ><i class="fab fa-facebook-f"></i
        ></a>
  
        <!-- Twitter -->
        <a
          class="btn btn-link btn-floating btn-lg text-dark m-1"
          href="#!"
          role="button"
          data-mdb-ripple-color="dark"
          ><i class="fab fa-twitter"></i
        ></a>
  
        <!-- Google -->
        <a
          class="btn btn-link btn-floating btn-lg text-dark m-1"
          href="#!"
          role="button"
          data-mdb-ripple-color="dark"
          ><i class="fab fa-google"></i
        ></a>
  
        <!-- Instagram -->
        <a
          class="btn btn-link btn-floating btn-lg text-dark m-1"
          href="#!"
          role="button"
          data-mdb-ripple-color="dark"
          ><i class="fab fa-instagram"></i
        ></a>
  
        <!-- Linkedin -->
        <a
          class="btn btn-link btn-floating btn-lg text-dark m-1"
          href="#!"
          role="button"
          data-mdb-ripple-color="dark"
          ><i class="fab fa-linkedin"></i
        ></a>
  
      </section>
      <!-- Section: Social media -->
    </div>
    <!-- Grid container -->
  
    <!-- Copyright -->
    <div class="text-center text-dark p-3" style="background-color: rgba(0, 0, 0, 0.2);">
      Â© 2023 Copyright:
      <a routerLink="/" class="text-dark text-decoration-none">www.C-pay.com</a>
    </div>
    <!-- Copyright -->
  </footer>